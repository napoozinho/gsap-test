import{g as e,S as t}from"./ScrollTrigger-CoLkpHA7.js";let i,n,r,l="undefined"!=typeof Intl?new Intl.Segmenter:0,s=e=>"string"==typeof e?s(document.querySelectorAll(e)):"length"in e?Array.from(e):[e],o=e=>s(e).filter(e=>e instanceof HTMLElement),a=[],h=function(){},d=/\s+/g,p=new RegExp("\\p{RI}\\p{RI}|\\p{Emoji}(\\p{EMod}|\\u{FE0F}\\u{20E3}?|[\\u{E0020}-\\u{E007E}]+\\u{E007F})?(\\u{200D}\\p{Emoji}(\\p{EMod}|\\u{FE0F}\\u{20E3}?|[\\u{E0020}-\\u{E007E}]+\\u{E007F})?)*|.","gu"),c={left:0,top:0,width:0,height:0},g=(e,t)=>{if(t){let i,n,r,l,s=new Set(e.join("").match(t)||a),o=e.length;if(s.size)for(;--o>-1;)for(r of(n=e[o],s))if(r.startsWith(n)&&r.length>n.length){for(i=0,l=n;r.startsWith(l+=e[o+ ++i])&&l.length<r.length;);if(i&&l.length===r.length){e[o]=r,e.splice(o+1,i);break}}}return e},u=e=>"inline"===window.getComputedStyle(e).display&&(e.style.display="inline-block"),m=(e,t,i)=>t.insertBefore("string"==typeof e?document.createTextNode(e):e,i),f=(e,t,i)=>{let n=t[e+"sClass"]||"",{tag:r="div",aria:l="auto",propIndex:s=!1}=t,o="line"===e?"block":"inline-block",a=n.indexOf("++")>-1,h=t=>{let h=document.createElement(r),d=i.length+1;return n&&(h.className=n+(a?" "+n+d:"")),s&&h.style.setProperty("--"+e,d+""),"none"!==l&&h.setAttribute("aria-hidden","true"),"span"!==r&&(h.style.position="relative",h.style.display=o),h.textContent=t,i.push(h),h};return a&&(n=n.replace("++","")),h.collection=i,h},b=(e,t,i,n,r,s,o,h,p,c)=>{var f;let w,y,v,x,E,C,S,T,A,N,R,W,k,B,O,_,L,j,F=Array.from(e.childNodes),z=0,{wordDelimiter:H,reduceWhiteSpace:I=!0,prepareText:M}=t,P=e.getBoundingClientRect(),D=P,q=!I&&"pre"===window.getComputedStyle(e).whiteSpace.substring(0,3),$=0,G=i.collection;for("object"==typeof H?(v=H.delimiter||H,y=H.replaceWith||""):y=""===H?"":H||" ",w=" "!==y;z<F.length;z++)if(x=F[z],3===x.nodeType){for(O=x.textContent||"",I?O=O.replace(d," "):q&&(O=O.replace(/\n/g,y+"\n")),M&&(O=M(O,e)),x.textContent=O,E=y||v?O.split(v||y):O.match(h)||a,L=E[E.length-1],T=w?" "===L.slice(-1):!L,L||E.pop(),D=P,S=w?" "===E[0].charAt(0):!E[0],S&&m(" ",e,x),E[0]||E.shift(),g(E,p),s&&c||(x.textContent=""),A=1;A<=E.length;A++)if(_=E[A-1],!I&&q&&"\n"===_.charAt(0)&&(null==(f=x.previousSibling)||f.remove(),m(document.createElement("br"),e,x),_=_.slice(1)),I||""!==_)if(" "===_)e.insertBefore(document.createTextNode(" "),x);else{if(w&&" "===_.charAt(0)&&m(" ",e,x),$&&1===A&&!S&&G.indexOf($.parentNode)>-1?(C=G[G.length-1],C.appendChild(document.createTextNode(n?"":_))):(C=i(n?"":_),m(C,e,x),$&&1===A&&!S&&C.insertBefore($,C.firstChild)),n)for(R=l?g([...l.segment(_)].map(e=>e.segment),p):_.match(h)||a,j=0;j<R.length;j++)C.appendChild(" "===R[j]?document.createTextNode(" "):n(R[j]));if(s&&c){if(O=x.textContent=O.substring(_.length+1,O.length),N=C.getBoundingClientRect(),N.top>D.top&&N.left<=D.left){for(W=e.cloneNode(),k=e.childNodes[0];k&&k!==C;)B=k,k=k.nextSibling,W.appendChild(B);e.parentNode.insertBefore(W,e),r&&u(W)}D=N}(A<E.length||T)&&m(A>=E.length?" ":w&&" "===_.slice(-1)?" "+y:y,e,x)}else m(y,e,x);e.removeChild(x),$=0}else 1===x.nodeType&&(o&&o.indexOf(x)>-1?(G.indexOf(x.previousSibling)>-1&&G[G.length-1].appendChild(x),$=x):(b(x,t,i,n,r,s,o,h,p,!0),$=0),r&&u(x))};const w=class e{constructor(e,t){this.isSplit=!1,r||y.register(window.gsap),this.elements=o(e),this.chars=[],this.words=[],this.lines=[],this.masks=[],this.vars=t,this._split=()=>this.isSplit&&this.split(this.vars);let i,n=[],l=()=>{let e,t=n.length;for(;t--;){e=n[t];let i=e.element.offsetWidth;if(i!==e.width)return e.width=i,void this._split()}};this._data={orig:n,obs:"undefined"!=typeof ResizeObserver&&new ResizeObserver(()=>{clearTimeout(i),i=setTimeout(l,200)})},h(this),this.split(t)}split(e){this.isSplit&&this.revert(),this.vars=e=e||this.vars||{};let t,{type:i="chars,words,lines",aria:r="auto",deepSlice:l=!0,smartWrap:a,onSplit:h,autoSplit:d=!1,specialChars:g,mask:u}=this.vars,m=i.indexOf("lines")>-1,w=i.indexOf("chars")>-1,y=i.indexOf("words")>-1,v=w&&!y&&!m,x=g&&("push"in g?new RegExp("(?:"+g.join("|")+")","gu"):g),E=x?new RegExp(x.source+"|"+p.source,"gu"):p,C=!!e.ignore&&o(e.ignore),{orig:S,animTime:T,obs:A}=this._data;return(w||y||m)&&(this.elements.forEach((t,i)=>{S[i]={element:t,html:t.innerHTML,ariaL:t.getAttribute("aria-label"),ariaH:t.getAttribute("aria-hidden")},"auto"===r?t.setAttribute("aria-label",(t.textContent||"").trim()):"hidden"===r&&t.setAttribute("aria-hidden","true");let n,o,h,d,p=[],g=[],u=[],T=w?f("char",e,p):null,A=f("word",e,g);if(b(t,e,A,T,v,l&&(m||v),C,E,x,!1),m){let i,r=s(t.childNodes),l=((e,t,i,n)=>{let r=f("line",i,n),l=window.getComputedStyle(e).textAlign||"left";return(i,n)=>{let s=r("");for(s.style.textAlign=l,e.insertBefore(s,t[i]);i<n;i++)s.appendChild(t[i]);s.normalize()}})(t,r,e,u),o=[],a=0,h=r.map(e=>1===e.nodeType?e.getBoundingClientRect():c),d=c;for(n=0;n<r.length;n++)i=r[n],1===i.nodeType&&("BR"===i.nodeName?(o.push(i),l(a,n+1),a=n+1,d=h[a]):(n&&h[n].top>d.top&&h[n].left<=d.left&&(l(a,n),a=n),d=h[n]));a<n&&l(a,n),o.forEach(e=>{var t;return null==(t=e.parentNode)?void 0:t.removeChild(e)})}if(!y){for(n=0;n<g.length;n++)if(o=g[n],w||!o.nextSibling||3!==o.nextSibling.nodeType)if(a&&!m){for(h=document.createElement("span"),h.style.whiteSpace="nowrap";o.firstChild;)h.appendChild(o.firstChild);o.replaceWith(h)}else o.replaceWith(...o.childNodes);else d=o.nextSibling,d&&3===d.nodeType&&(d.textContent=(o.textContent||"")+(d.textContent||""),o.remove());g.length=0,t.normalize()}this.lines.push(...u),this.words.push(...g),this.chars.push(...p)}),u&&this[u]&&this.masks.push(...this[u].map(e=>{let t=e.cloneNode();return e.replaceWith(t),t.appendChild(e),e.className&&(t.className=e.className.replace(/(\b\w+\b)/g,"$1-mask")),t.style.overflow="clip",t}))),this.isSplit=!0,n&&(d?n.addEventListener("loadingdone",this._split):n.status),(t=h&&h(this))&&t.totalTime&&(this._data.anim=T?t.totalTime(T):t),m&&d&&this.elements.forEach((e,t)=>{S[t].width=e.offsetWidth,A&&A.observe(e)}),this}revert(){var e,t;let{orig:i,anim:r,obs:l}=this._data;return l&&l.disconnect(),i.forEach(({element:e,html:t,ariaL:i,ariaH:n})=>{e.innerHTML=t,i?e.setAttribute("aria-label",i):e.removeAttribute("aria-label"),n?e.setAttribute("aria-hidden",n):e.removeAttribute("aria-hidden")}),this.chars.length=this.words.length=this.lines.length=i.length=this.masks.length=0,this.isSplit=!1,null==n||n.removeEventListener("loadingdone",this._split),r&&(this._data.animTime=r.totalTime(),r.revert()),null==(t=(e=this.vars).onRevert)||t.call(e,this),this}static create(t,i){return new e(t,i)}static register(e){i=i||e||window.gsap,i&&(s=i.utils.toArray,h=i.core.context||h),!r&&window.innerWidth>0&&(n=document.fonts,r=!0)}};w.version="3.13.0";let y=w;function v(t){Array.from(t).forEach(t=>{y.create(t,{autoSplit:!0,type:"lines",mask:"lines",onSplit:i=>e.from(i.lines,{scrollTrigger:{trigger:t,start:"top bottom",end:"bottom bottom",toggleActions:"play none none reset"},yPercent:100,stagger:.05})})})}e.registerPlugin(y),e.registerPlugin(t);export{v as default};
//# sourceMappingURL=split-text-3Ia1marr.js.map
